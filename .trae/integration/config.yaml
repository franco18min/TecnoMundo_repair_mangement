# 🔗 NEXUS Integration Configuration
# Configuración de integración con TecnoMundo Repair Management
# Trae 2.0 - Sistema Autónomo

# Configuración del proyecto
project_root: "C:\\Users\\magna\\Desktop\\TecnoMundo_repair_mangement"
frontend_dir: "frontend"
backend_dir: "backend"

# Configuración de base de datos
database_config:
  host: "localhost"
  port: 5432
  database: "tecnomundo_repair"
  user: "postgres"
  password: "${DB_PASSWORD}"  # Variable de entorno
  pool_size: 10
  max_overflow: 20

# Configuración de servicios
services:
  auto_start_services: true
  health_check_interval: 30
  restart_on_failure: true
  
  frontend:
    port: 5173
    command: "npm run dev"
    health_endpoint: "http://localhost:5173"
    startup_timeout: 60
    
  backend:
    port: 8001
    command: "uvicorn main:app --reload --port 8001 --host 0.0.0.0"
    health_endpoint: "http://localhost:8001/health"
    startup_timeout: 30
    virtual_env: "venv"

# Configuración de monitoreo
monitoring:
  performance_monitoring: true
  resource_monitoring: true
  error_tracking: true
  metrics_interval: 10
  
  thresholds:
    cpu_usage: 80
    memory_usage: 85
    disk_usage: 90
    response_time: 5000  # ms
    error_rate: 5  # %

# Configuración de WebSocket
websocket:
  enabled: true
  port: 8002
  host: "localhost"
  max_connections: 100
  heartbeat_interval: 30

# Configuración de API
api_integration:
  enabled: true
  base_url: "http://localhost:8001"
  timeout: 30
  retry_attempts: 3
  retry_delay: 1

# Configuración de desarrollo
development:
  hot_reload: true
  auto_restart: true
  debug_mode: true
  log_level: "INFO"
  
  file_watching:
    enabled: true
    patterns:
      - "**/*.py"
      - "**/*.js"
      - "**/*.jsx"
      - "**/*.ts"
      - "**/*.tsx"
      - "**/*.css"
      - "**/*.json"
    ignore_patterns:
      - "**/node_modules/**"
      - "**/__pycache__/**"
      - "**/venv/**"
      - "**/.git/**"

# Configuración de optimización
optimization:
  token_optimization: true
  context_compression: true
  memory_management: true
  cache_optimization: true
  
  cache:
    max_size: "500MB"
    ttl: 3600  # seconds
    cleanup_interval: 300
    
  memory:
    max_usage: "2GB"
    gc_threshold: 0.8
    cleanup_aggressive: false

# Configuración de machine learning
machine_learning:
  enabled: true
  model_training: true
  auto_learning: true
  prediction_confidence: 0.7
  
  models:
    command_prediction:
      enabled: true
      retrain_interval: 86400  # 24 hours
      
    error_prediction:
      enabled: true
      retrain_interval: 43200  # 12 hours
      
    performance_prediction:
      enabled: true
      retrain_interval: 3600   # 1 hour

# Configuración de contexto
context_management:
  auto_save: true
  save_interval: 300  # seconds
  max_contexts: 1000
  compression: true
  
  preload_contexts:
    - "project_structure"
    - "development_patterns"
    - "error_solutions"
    - "performance_baselines"

# Configuración de workflows
workflows:
  auto_execution: true
  parallel_execution: true
  max_concurrent: 5
  timeout: 1800  # 30 minutes
  
  default_workflows:
    - "project_health_check"
    - "performance_monitoring"
    - "error_detection"
    - "context_optimization"

# Configuración de seguridad
security:
  enable_auth: false  # Para desarrollo local
  api_key_required: false
  rate_limiting: false
  
  allowed_commands:
    - "npm"
    - "python"
    - "uvicorn"
    - "git"
    - "code"
  
  restricted_paths:
    - "/etc"
    - "/sys"
    - "/proc"
    - "C:\\Windows\\System32"
  
  safe_operations:
    - "read"
    - "write"
    - "execute"
    - "create"
    - "delete"  # Solo en directorios del proyecto

# Configuración de logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  handlers:
    console:
      enabled: true
      level: "INFO"
      
    file:
      enabled: true
      level: "DEBUG"
      filename: ".trae/logs/nexus_integration.log"
      max_size: "10MB"
      backup_count: 5
      
    database:
      enabled: false
      level: "WARNING"

# Configuración de notificaciones
notifications:
  enabled: true
  
  channels:
    console: true
    file: true
    websocket: true
    
  events:
    - "service_started"
    - "service_stopped"
    - "error_occurred"
    - "optimization_completed"
    - "workflow_completed"

# Configuración de métricas
metrics:
  collection_enabled: true
  export_enabled: false
  
  collectors:
    - "system_metrics"
    - "application_metrics"
    - "nexus_metrics"
    - "custom_metrics"
  
  retention:
    raw_data: "7d"
    aggregated_data: "30d"
    
# Configuración de backup
backup:
  enabled: true
  interval: 3600  # 1 hour
  retention: "7d"
  
  include:
    - ".trae/contexts"
    - ".trae/workflows"
    - ".trae/cache"
    - ".trae/logs"
  
  exclude:
    - ".trae/temp"
    - ".trae/locks"

# Configuración experimental
experimental:
  ai_code_generation: false
  auto_testing: false
  predictive_caching: true
  smart_debugging: true